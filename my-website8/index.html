<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="SkyFlix - Stream trending movies, TV shows, and anime">
  <title>SkyFlix | Movies & TV Shows</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
  
  <!-- External Libraries -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  
  <style>
    /* Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background-color: #0f0f0f;
      color: #ffffff;
      line-height: 1.6;
    }

    /* Header & Navigation */
    .navbar {
      background-color: rgba(15, 15, 15, 0.9);
      backdrop-filter: blur(10px);
      padding: 1rem 0;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 1rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1.5rem;
      font-weight: 700;
      color: #e50914;
    }

    .logo i {
      font-size: 1.8rem;
    }

    .nav-links {
      display: flex;
      gap: 2rem;
    }

    .nav-link {
      color: #ffffff;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: color 0.3s;
    }

    .nav-link:hover, .nav-link.active {
      color: #e50914;
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .search-container {
      position: relative;
    }

    .search-bar {
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 4px;
      padding: 0.5rem 1rem;
      color: white;
      width: 200px;
      transition: width 0.3s;
    }

    .search-bar:focus {
      width: 250px;
      outline: none;
      border-color: #e50914;
    }

    .search-icon {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      padding: 0.5rem;
    }

    .theme-toggle {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1.2rem;
    }

    /* Hero Banner */
    .hero-banner {
      height: 70vh;
      background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.7)), 
                  url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1925&q=80');
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      margin-top: 60px;
      position: relative;
    }

    .banner-content {
      max-width: 800px;
      padding: 0 2rem;
      z-index: 2;
    }

    .banner-title {
      font-size: 3.5rem;
      margin-bottom: 1rem;
      font-weight: 900;
    }

    .banner-description {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      color: #cccccc;
    }

    .banner-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
    }

    .btn {
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 4px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s;
    }

    .btn-primary {
      background-color: #e50914;
      color: white;
    }

    .btn-primary:hover {
      background-color: #f40612;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background-color: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .btn-secondary:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }

    /* Content Sections */
    .content-section {
      max-width: 1200px;
      margin: 3rem auto;
      padding: 0 1rem;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .section-title {
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .section-controls {
      display: flex;
      gap: 0.5rem;
    }

    .nav-btn {
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .nav-btn:hover {
      background-color: #e50914;
      border-color: #e50914;
    }

    .media-scroller {
      display: flex;
      gap: 1rem;
      overflow-x: auto;
      scroll-behavior: smooth;
      padding: 1rem 0;
      scrollbar-width: thin;
    }

    .media-scroller::-webkit-scrollbar {
      height: 8px;
    }

    .media-scroller::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }

    .media-scroller::-webkit-scrollbar-thumb {
      background: #e50914;
      border-radius: 4px;
    }

    .media-card {
      min-width: 200px;
      background-color: #1a1a1a;
      border-radius: 8px;
      overflow: hidden;
      transition: transform 0.3s;
      cursor: pointer;
    }

    .media-card:hover {
      transform: translateY(-5px);
    }

    .card-poster {
      width: 100%;
      height: 300px;
      object-fit: cover;
    }

    .card-info {
      padding: 1rem;
    }

    .card-title {
      font-size: 1rem;
      margin-bottom: 0.5rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .card-meta {
      display: flex;
      justify-content: space-between;
      color: #cccccc;
      font-size: 0.9rem;
    }

    /* Genre Section */
    .genre-section {
      max-width: 1200px;
      margin: 3rem auto;
      padding: 0 1rem;
    }

    .genre-container {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .genre-btn {
      padding: 0.7rem 1.5rem;
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 30px;
      color: white;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 500;
    }

    .genre-btn:hover, .genre-btn.active {
      background-color: #e50914;
      border-color: #e50914;
      transform: translateY(-2px);
    }

    /* Search Modal */
    .search-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      display: none;
      z-index: 2000;
      overflow-y: auto;
    }

    .search-modal.active {
      display: block;
    }

    .search-modal-content {
      max-width: 900px;
      margin: 5rem auto;
      background-color: #1a1a1a;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }

    .search-close-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      z-index: 10;
    }

    .search-header {
      padding: 2rem;
      background-color: #0f0f0f;
    }

    .search-header h3 {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
    }

    .search-input-container {
      position: relative;
    }

    .search-input-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: #cccccc;
    }

    #search-input {
      width: 100%;
      padding: 1rem 1rem 1rem 3rem;
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 4px;
      color: white;
      font-size: 1rem;
    }

    #search-input:focus {
      outline: none;
      border-color: #e50914;
    }

    .search-results {
      padding: 1rem 2rem 2rem;
      max-height: 60vh;
      overflow-y: auto;
    }

    .search-results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 1.5rem;
    }

    .empty-state {
      text-align: center;
      padding: 3rem;
      color: #cccccc;
    }

    .empty-state i {
      font-size: 3rem;
      margin-bottom: 1rem;
      color: #e50914;
    }

    /* Genre Filter in Search */
    .genre-filter {
      padding: 1rem 2rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .genre-filter-title {
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }

    .genre-filter-container {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
    }

    .genre-filter-btn {
      padding: 0.5rem 1rem;
      background-color: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      color: white;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s;
    }

    .genre-filter-btn:hover, .genre-filter-btn.active {
      background-color: #e50914;
      border-color: #e50914;
    }

    /* Footer */
    .footer {
      background-color: #0f0f0f;
      padding: 3rem 0 1.5rem;
      margin-top: 3rem;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 3rem;
    }

    .footer-brand .logo {
      margin-bottom: 1rem;
    }

    .footer-tagline {
      color: #cccccc;
    }

    .footer-links-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }

    .footer-column h4 {
      margin-bottom: 1rem;
      color: #e50914;
    }

    .footer-column a {
      display: block;
      color: #cccccc;
      text-decoration: none;
      margin-bottom: 0.7rem;
      transition: color 0.3s;
    }

    .footer-column a:hover {
      color: #e50914;
    }

    .footer-bottom {
      max-width: 1200px;
      margin: 2rem auto 0;
      padding: 1rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
      color: #cccccc;
    }

    /* Back to Top Button */
    .back-to-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 50px;
      height: 50px;
      background-color: #e50914;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      z-index: 100;
      transition: all 0.3s;
    }

    .back-to-top:hover {
      background-color: #f40612;
      transform: translateY(-3px);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .banner-title {
        font-size: 2.5rem;
      }
      
      .footer-content {
        grid-template-columns: 1fr;
      }
      
      .footer-links-grid {
        grid-template-columns: 1fr;
      }
      
      .search-results-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      }
    }
  </style>
</head>

<body>
  <!-- Loading Screen -->
  <div class="loading-screen" id="loading-screen">
    <div class="loading-spinner"></div>
    <p>Loading awesome content...</p>
  </div>

  <header class="navbar">
    <div class="nav-container">
      <a href="#" class="logo-link" aria-label="Go to homepage">
        <div class="logo">
          <i class="fas fa-play-circle"></i>
          <span>SkyFlix</span>
        </div>
      </a>
      <nav class="nav-links">
        <a href="#" aria-current="page" class="nav-link active">
          <i class="fas fa-home"></i> Home
        </a>
        <a href="#" class="nav-link">
          <i class="fas fa-fire"></i> Trending
        </a>
        <a href="#" class="nav-link">
          <i class="fas fa-heart"></i> Favorites
        </a>
      </nav>
      <div class="nav-actions">
        <div class="search-container">
          <input type="text" class="search-bar" placeholder="Search movies, shows..." 
                 aria-label="Search for movies or shows" onfocus="openSearchModal()" />
          <button class="search-icon" aria-label="Open search" onclick="openSearchModal()">
            <i class="fas fa-search"></i>
          </button>
        </div>
        <button class="theme-toggle" aria-label="Toggle dark mode" onclick="toggleTheme()">
          <i class="fas fa-moon"></i>
        </button>
      </div>
    </div>
  </header>

  <main>
    <!-- Hero Banner -->
    <section class="hero-banner" id="banner" role="banner">
      <div class="banner-overlay"></div>
      <div class="banner-content">
        <h1 id="banner-title" class="banner-title">Welcome to SkyFlix</h1>
        <p id="banner-description" class="banner-description">Discover thousands of movies and TV shows</p>
        <div class="banner-actions">
          <button class="btn btn-primary" onclick="openSearchModal()">
            <i class="fas fa-play"></i> Start Watching
          </button>
          <button class="btn btn-secondary" onclick="scrollToContent()">
            <i class="fas fa-info-circle"></i> Learn More
          </button>
        </div>
      </div>
    </section>

    <!-- Genre Section -->
    <section class="genre-section">
      <div class="section-header">
        <h2 class="section-title">
          <i class="fas fa-filter"></i> Browse by Genre
        </h2>
      </div>
      <div class="genre-container" id="genre-container">
        <!-- Genre buttons will be populated by JavaScript -->
      </div>
    </section>

    <!-- Content Sections -->
    <section class="content-section" id="trending-section">
      <div class="section-header">
        <h2 class="section-title">
          <i class="fas fa-fire"></i> Trending Movies
        </h2>
        <div class="section-controls">
          <button class="nav-btn prev-btn" onclick="scrollList('movies-list', -300)">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="nav-btn next-btn" onclick="scrollList('movies-list', 300)">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
      <div class="media-scroller" id="movies-list">
        <!-- Movies will be loaded here -->
      </div>
    </section>

    <section class="content-section">
      <div class="section-header">
        <h2 class="section-title">
          <i class="fas fa-tv"></i> Popular TV Shows
        </h2>
        <div class="section-controls">
          <button class="nav-btn prev-btn" onclick="scrollList('tvshows-list', -300)">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="nav-btn next-btn" onclick="scrollList('tvshows-list', 300)">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
      <div class="media-scroller" id="tvshows-list">
        <!-- TV Shows will be loaded here -->
      </div>
    </section>

    <section class="content-section">
      <div class="section-header">
        <h2 class="section-title">
          <i class="fas fa-dragon"></i> Top Anime
        </h2>
        <div class="section-controls">
          <button class="nav-btn prev-btn" onclick="scrollList('anime-list', -300)">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="nav-btn next-btn" onclick="scrollList('anime-list', 300)">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
      <div class="media-scroller" id="anime-list">
        <!-- Anime will be loaded here -->
      </div>
    </section>
  </main>

  <!-- Search Modal -->
  <div class="search-modal" id="search-modal">
    <div class="search-modal-content">
      <button class="close-btn search-close-btn" onclick="closeSearchModal()" aria-label="Close search">
        <i class="fas fa-times"></i>
      </button>
      <div class="search-header">
        <h3>What would you like to watch?</h3>
        <div class="search-input-container">
          <i class="fas fa-search search-input-icon"></i>
          <input type="text" id="search-input" placeholder="Search movies, TV shows, anime..." 
                 oninput="searchTMDB()" aria-label="Search input" />
        </div>
      </div>
      
      <!-- Genre Filter in Search Modal -->
      <div class="genre-filter">
        <h4 class="genre-filter-title">Filter by Genre</h4>
        <div class="genre-filter-container" id="genre-filter-container">
          <!-- Genre filter buttons will be populated by JavaScript -->
        </div>
      </div>
      
      <div class="search-results" id="search-results">
        <div class="empty-state" id="search-empty">
          <i class="fas fa-search"></i>
          <p>Search for your favorite movies and TV shows</p>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-brand">
        <div class="logo">
          <i class="fas fa-play-circle"></i>
          <span>SkyFlix</span>
        </div>
        <p class="footer-tagline">Your gateway to unlimited entertainment</p>
      </div>
      <div class="footer-links-grid">
        <div class="footer-column">
          <h4>Browse</h4>
          <a href="#">Movies</a>
          <a href="#">TV Shows</a>
          <a href="#">Anime</a>
          <a href="#">Trending</a>
        </div>
        <div class="footer-column">
          <h4>Support</h4>
          <a href="#">Help Center</a>
          <a href="#">Contact Us</a>
          <a href="#">FAQ</a>
        </div>
        <div class="footer-column">
          <h4>Legal</h4>
          <a href="#" onclick="openDisclaimerModal()">Disclaimer</a>
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 SkyFlix. All rights reserved.</p>
    </div>
  </footer>

  <!-- Back to Top Button -->
  <button class="back-to-top" id="back-to-top" onclick="scrollToTop()">
    <i class="fas fa-chevron-up"></i>
  </button>

  <script>
    // Movie genres data
    const movieGenres = [
      { id: 28, name: "Action" },
      { id: 12, name: "Adventure" },
      { id: 16, name: "Animation" },
      { id: 35, name: "Comedy" },
      { id: 80, name: "Crime" },
      { id: 99, name: "Documentary" },
      { id: 18, name: "Drama" },
      { id: 10751, name: "Family" },
      { id: 14, name: "Fantasy" },
      { id: 36, name: "History" },
      { id: 27, name: "Horror" },
      { id: 10402, name: "Music" },
      { id: 9648, name: "Mystery" },
      { id: 10749, name: "Romance" },
      { id: 878, name: "Sci-Fi" },
      { id: 10770, name: "TV Movie" },
      { id: 53, name: "Thriller" },
      { id: 10752, name: "War" },
      { id: 37, name: "Western" }
    ];

    // TV genres data
    const tvGenres = [
      { id: 10759, name: "Action & Adventure" },
      { id: 16, name: "Animation" },
      { id: 35, name: "Comedy" },
      { id: 80, name: "Crime" },
      { id: 99, name: "Documentary" },
      { id: 18, name: "Drama" },
      { id: 10751, name: "Family" },
      { id: 10762, name: "Kids" },
      { id: 9648, name: "Mystery" },
      { id: 10763, name: "News" },
      { id: 10764, name: "Reality" },
      { id: 10765, name: "Sci-Fi & Fantasy" },
      { id: 10766, name: "Soap" },
      { id: 10767, name: "Talk" },
      { id: 10768, name: "War & Politics" },
      { id: 37, name: "Western" }
    ];

    // Sample movie data for demonstration
    const sampleMovies = [
      {
        id: 1,
        title: "The Last Frontier",
        poster: "https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
        rating: 8.5,
        year: 2023,
        description: "Cast out from his home, a young explorer finds an unlikely ally in a damaged android and embarks on a treacherous journey in search of the ultimate adventure.",
        genres: [28, 12, 878]
      },
      {
        id: 2,
        title: "Cyber Revolution",
        poster: "https://images.unsplash.com/photo-1489599809505-7c8e1c75ce13?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
        rating: 7.8,
        year: 2023,
        description: "In a dystopian future, a hacker uncovers a conspiracy that could change humanity forever.",
        genres: [28, 878, 53]
      },
      {
        id: 3,
        title: "Lost Kingdom",
        poster: "https://images.unsplash.com/photo-1535016120720-40c646be5580?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
        rating: 8.2,
        year: 2023,
        description: "An archaeologist discovers an ancient civilization with secrets that could save the world.",
        genres: [12, 14, 18]
      },
      {
        id: 4,
        title: "Starlight Express",
        poster: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
        rating: 7.5,
        year: 2023,
        description: "A space crew on a mission to save Earth encounters unexpected challenges in deep space.",
        genres: [878, 12, 53]
      },
      {
        id: 5,
        title: "Midnight Shadows",
        poster: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
        rating: 8.0,
        year: 2023,
        description: "A detective must solve a series of mysterious crimes before time runs out.",
        genres: [80, 53, 9648]
      },
      {
        id: 6,
        title: "Ocean's Fury",
        poster: "https://images.unsplash.com/photo-1532938911079-1b06ac7ceec7?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
        rating: 7.3,
        year: 2023,
        description: "A group of scientists battle against a massive tsunami threatening coastal cities.",
        genres: [28, 18, 53]
      }
    ];

    // Global variables
    let selectedGenre = null;
    let searchResults = [];

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      initializeGenres();
      loadSampleContent();
      hideLoadingScreen();
      
      // Show back to top button when scrolling
      window.addEventListener('scroll', toggleBackToTopButton);
    });

    // Initialize genre buttons
    function initializeGenres() {
      const genreContainer = document.getElementById('genre-container');
      const genreFilterContainer = document.getElementById('genre-filter-container');
      
      // Create "All" genre button
      const allGenreBtn = document.createElement('button');
      allGenreBtn.className = 'genre-btn active';
      allGenreBtn.textContent = 'All';
      allGenreBtn.onclick = () => selectGenre(null, allGenreBtn);
      genreContainer.appendChild(allGenreBtn);
      
      // Create genre buttons for main page
      movieGenres.forEach(genre => {
        const genreBtn = document.createElement('button');
        genreBtn.className = 'genre-btn';
        genreBtn.textContent = genre.name;
        genreBtn.onclick = () => selectGenre(genre.id, genreBtn);
        genreContainer.appendChild(genreBtn);
      });
      
      // Create genre filter buttons for search modal
      const allFilterBtn = document.createElement('button');
      allFilterBtn.className = 'genre-filter-btn active';
      allFilterBtn.textContent = 'All';
      allFilterBtn.onclick = () => selectFilterGenre(null, allFilterBtn);
      genreFilterContainer.appendChild(allFilterBtn);
      
      movieGenres.forEach(genre => {
        const genreFilterBtn = document.createElement('button');
        genreFilterBtn.className = 'genre-filter-btn';
        genreFilterBtn.textContent = genre.name;
        genreFilterBtn.onclick = () => selectFilterGenre(genre.id, genreFilterBtn);
        genreFilterContainer.appendChild(genreFilterBtn);
      });
    }

    // Select genre on main page
    function selectGenre(genreId, button) {
      selectedGenre = genreId;
      
      // Update active state of genre buttons
      document.querySelectorAll('.genre-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      button.classList.add('active');
      
      // Filter content based on selected genre
      filterContentByGenre();
    }

    // Select genre in search modal
    function selectFilterGenre(genreId, button) {
      // Update active state of filter buttons
      document.querySelectorAll('.genre-filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      button.classList.add('active');
      
      // Filter search results by genre
      filterSearchResultsByGenre(genreId);
    }

    // Filter content by selected genre
    function filterContentByGenre() {
      const movieCards = document.querySelectorAll('.media-card');
      
      movieCards.forEach(card => {
        const movieId = parseInt(card.getAttribute('data-id'));
        const movie = sampleMovies.find(m => m.id === movieId);
        
        if (selectedGenre === null || (movie && movie.genres.includes(selectedGenre))) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    }

    // Filter search results by genre
    function filterSearchResultsByGenre(genreId) {
      const searchResultsContainer = document.getElementById('search-results');
      
      if (searchResults.length === 0) {
        searchResultsContainer.innerHTML = `
          <div class="empty-state" id="search-empty">
            <i class="fas fa-search"></i>
            <p>Search for your favorite movies and TV shows</p>
          </div>
        `;
        return;
      }
      
      let filteredResults = searchResults;
      
      if (genreId !== null) {
        filteredResults = searchResults.filter(movie => 
          movie.genres && movie.genres.includes(genreId)
        );
      }
      
      displaySearchResults(filteredResults);
    }

    // Load sample content
    function loadSampleContent() {
      const moviesList = document.getElementById('movies-list');
      const tvShowsList = document.getElementById('tvshows-list');
      const animeList = document.getElementById('anime-list');
      
      // Load movies
      sampleMovies.forEach(movie => {
        const movieCard = createMediaCard(movie);
        moviesList.appendChild(movieCard);
      });
      
      // For demo purposes, use same movies for TV shows and anime
      sampleMovies.forEach(movie => {
        const tvCard = createMediaCard(movie);
        tvShowsList.appendChild(tvCard.cloneNode(true));
        
        const animeCard = createMediaCard(movie);
        animeList.appendChild(animeCard.cloneNode(true));
      });
    }

    // Create media card element
    function createMediaCard(media) {
      const card = document.createElement('div');
      card.className = 'media-card';
      card.setAttribute('data-id', media.id);
      
      // Get genre names
      const genreNames = media.genres ? 
        media.genres.map(genreId => {
          const genre = movieGenres.find(g => g.id === genreId);
          return genre ? genre.name : '';
        }).filter(name => name !== '') : [];
      
      card.innerHTML = `
        <img src="${media.poster}" alt="${media.title}" class="card-poster">
        <div class="card-info">
          <h3 class="card-title">${media.title}</h3>
          <div class="card-meta">
            <span>${media.year}</span>
            <span><i class="fas fa-star" style="color: #e50914;"></i> ${media.rating}</span>
          </div>
        </div>
      `;
      
      card.onclick = () => openMediaDetails(media);
      
      return card;
    }

    // Open media details (placeholder function)
    function openMediaDetails(media) {
      alert(`Opening details for: ${media.title}\n\n${media.description}`);
      // In a real implementation, this would open a modal with more details
    }

    // Search functionality
    function searchTMDB() {
      const searchInput = document.getElementById('search-input');
      const query = searchInput.value.trim();
      
      if (query.length < 2) {
        const searchResultsContainer = document.getElementById('search-results');
        searchResultsContainer.innerHTML = `
          <div class="empty-state" id="search-empty">
            <i class="fas fa-search"></i>
            <p>Search for your favorite movies and TV shows</p>
          </div>
        `;
        searchResults = [];
        return;
      }
      
      // For demo purposes, filter sample movies by title
      searchResults = sampleMovies.filter(movie => 
        movie.title.toLowerCase().includes(query.toLowerCase())
      );
      
      displaySearchResults(searchResults);
    }

    // Display search results
    function displaySearchResults(results) {
      const searchResultsContainer = document.getElementById('search-results');
      
      if (results.length === 0) {
        searchResultsContainer.innerHTML = `
          <div class="empty-state" id="search-empty">
            <i class="fas fa-search"></i>
            <p>No results found. Try a different search term.</p>
          </div>
        `;
        return;
      }
      
      searchResultsContainer.innerHTML = `
        <div class="search-results-grid">
          ${results.map(movie => `
            <div class="media-card" data-id="${movie.id}">
              <img src="${movie.poster}" alt="${movie.title}" class="card-poster">
              <div class="card-info">
                <h3 class="card-title">${movie.title}</h3>
                <div class="card-meta">
                  <span>${movie.year}</span>
                  <span><i class="fas fa-star" style="color: #e50914;"></i> ${movie.rating}</span>
                </div>
              </div>
            </div>
          `).join('')}
        </div>
      `;
      
      // Add click events to search result cards
      document.querySelectorAll('#search-results .media-card').forEach((card, index) => {
        card.onclick = () => openMediaDetails(results[index]);
      });
    }

    // Modal functions
    function openSearchModal() {
      document.getElementById('search-modal').classList.add('active');
      document.getElementById('search-input').focus();
    }

    function closeSearchModal() {
      document.getElementById('search-modal').classList.remove('active');
      document.getElementById('search-input').value = '';
      searchResults = [];
      
      const searchResultsContainer = document.getElementById('search-results');
      searchResultsContainer.innerHTML = `
        <div class="empty-state" id="search-empty">
          <i class="fas fa-search"></i>
          <p>Search for your favorite movies and TV shows</p>
        </div>
      `;
      
      // Reset genre filter
      document.querySelectorAll('.genre-filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelectorAll('.genre-filter-btn')[0].classList.add('active');
    }

    // Scroll functions
    function scrollList(listId, amount) {
      const list = document.getElementById(listId);
      list.scrollBy({ left: amount, behavior: 'smooth' });
    }

    function scrollToContent() {
      document.getElementById('trending-section').scrollIntoView({ behavior: 'smooth' });
    }

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function toggleBackToTopButton() {
      const backToTopBtn = document.getElementById('back-to-top');
      if (window.scrollY > 300) {
        backToTopBtn.style.display = 'flex';
      } else {
        backToTopBtn.style.display = 'none';
      }
    }

    // Theme toggle (placeholder)
    function toggleTheme() {
      alert('Theme toggle functionality would be implemented here');
    }

    // Loading screen
    function hideLoadingScreen() {
      setTimeout(() => {
        document.getElementById('loading-screen').style.display = 'none';
      }, 1000);
    }

    // Disclaimer modal (placeholder)
    function openDisclaimerModal() {
      alert('Disclaimer modal would open here');
    }
  </script>
</body>
</html>
